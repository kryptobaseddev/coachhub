import{a as i,t as d,c as re}from"../chunks/disclose-version.CJFPsRL-.js";import{p as Ue,l as ze,b as He,a as Le,f as oe,g as e,t as R,e as f,m as J,c as a,s as r,r as s,n as A,d as V,j as We,i as Se}from"../chunks/runtime.CUNFE6o5.js";import{e as L,s as $}from"../chunks/render.YXdxLiCJ.js";import{p as Be,i as y}from"../chunks/props.D6-fppJ3.js";import{e as je,i as Re}from"../chunks/Icon.Bvhz2f0e.js";import{c as Ve}from"../chunks/svelte-component.CIsdkGy0.js";import{r as w,c as $e}from"../chunks/index.CnPSb7tb.js";import{s as qe}from"../chunks/class.Cz7S4UMx.js";import{b as ie,a as W}from"../chunks/input.BTYOOzm3.js";import{b as Te}from"../chunks/select.C4s-v16H.js";import{i as Ge}from"../chunks/lifecycle.CDJD4jvc.js";import{s as Je,a as De}from"../chunks/store.BcJSs_Hw.js";import{i as Oe}from"../chunks/demoMode.ClaLBl7d.js";import{w as Ye}from"../chunks/index.BJF6aWVF.js";import{I as Ke}from"../chunks/info.2roawCq9.js";import{S as Qe}from"../chunks/settings.BuYUDVRY.js";import{G as Xe,D as Ze}from"../chunks/globe.BHFkwUhC.js";import{S as et}from"../chunks/shield.e3pJPTNF.js";function tt(){{const g=localStorage.getItem("darkMode");return g!==null?g==="true":window.matchMedia("(prefers-color-scheme: dark)").matches}}const q=Ye(tt());function st(g){g?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}q.subscribe(g=>{st(g)}),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",g=>{q.set(g.matches)});var at=d('<span class="px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-sm">Demo Mode</span>'),rt=d("<button><!> </button>"),ot=d('<p class="text-sm text-gray-600">0.0.1</p>'),it=d('<button class="mt-2 inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"><!> Version Information</button>'),nt=d('<div class="p-6 space-y-6"><div class="grid grid-cols-1 gap-6 sm:grid-cols-2"><div><label for="timezone" class="block text-sm font-medium text-gray-700">System Timezone</label> <select id="timezone" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm"><option>Eastern Time</option><option>Central Time</option><option>Mountain Time</option><option>Pacific Time</option></select></div> <div><label for="temperatureUnit" class="block text-sm font-medium text-gray-700">Temperature Unit</label> <select id="temperatureUnit" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm"><option>Fahrenheit (°F)</option><option>Celsius (°C)</option></select></div></div> <div><label class="flex items-center space-x-3"><input type="checkbox" class="rounded border-gray-300 text-blue-600 shadow-sm"> <span class="text-sm font-medium text-gray-700">Enable Dark Mode</span></label></div> <div class="mt-6"><h3 class="text-lg font-medium text-gray-900 mb-2">System Version</h3> <!> <!></div></div>'),lt=d('<div class="grid grid-cols-2 gap-4"><div><p class="text-sm font-medium text-gray-500">Internal IP</p> <p class="mt-1 text-sm text-gray-900"> </p></div> <div><p class="text-sm font-medium text-gray-500">External WAN IP</p> <p class="mt-1 text-sm text-gray-900"> </p></div> <div><p class="text-sm font-medium text-gray-500">MAC Address</p> <p class="mt-1 text-sm text-gray-900"> </p></div> <div><p class="text-sm font-medium text-gray-500">Local mDNS Name</p> <p class="mt-1 text-sm text-gray-900"> </p></div></div>'),dt=d('<p class="text-sm text-gray-600">Network information is not available.</p>'),ct=d('<div class="p-6 space-y-6"><h3 class="text-lg font-medium text-gray-900 mb-4">Network Information</h3> <!> <div class="mt-6"><h3 class="text-lg font-medium text-gray-900 mb-4">DDNS Configuration</h3> <form class="space-y-4"><div><label for="ddns-provider" class="block text-sm font-medium text-gray-700">DDNS Provider</label> <select id="ddns-provider" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md"><option>Select a provider</option><option>No-IP</option><option>DynDNS</option><option>Cloudflare</option><option>Duck DNS</option></select></div> <div><label for="ddns-hostname" class="block text-sm font-medium text-gray-700">Hostname</label> <input type="text" id="ddns-hostname" class="mt-1 focus:ring-blue-500 focus:border-blue-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md" placeholder="yourdomain.ddns.net"></div> <div><label for="ddns-username" class="block text-sm font-medium text-gray-700">Username</label> <input type="text" id="ddns-username" class="mt-1 focus:ring-blue-500 focus:border-blue-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"></div> <div><label for="ddns-password" class="block text-sm font-medium text-gray-700">Password</label> <input type="password" id="ddns-password" class="mt-1 focus:ring-blue-500 focus:border-blue-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"></div> <div><label for="ddns-update-interval" class="block text-sm font-medium text-gray-700">Update Interval (minutes)</label> <input type="number" id="ddns-update-interval" class="mt-1 focus:ring-blue-500 focus:border-blue-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md" min="5" max="1440" value="60"></div> <div class="flex items-center justify-between"><button type="submit" class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">Save DDNS Configuration</button> <button type="button" class="inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">Test Connection</button></div></form></div></div>'),mt=d('<div class="p-6 space-y-6"><h3 class="text-lg font-medium text-gray-900 mb-4">Backup & Restore</h3> <div class="space-y-4"><button class="btn btn-primary">Backup System Configuration</button> <div><label for="restoreFile" class="block text-sm font-medium text-gray-700">Restore from Backup</label> <input type="file" id="restoreFile" class="mt-1 block w-full"> <button class="mt-2 btn btn-secondary">Restore</button></div></div></div>'),ut=d('<div class="ml-6"><label for="passwordExpirationDays" class="block text-sm font-medium text-gray-700">Expiration period (days)</label> <input type="number" id="passwordExpirationDays" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50" min="1" max="365"></div>'),pt=d('<div class="ml-6"><label for="ipWhitelist" class="block text-sm font-medium text-gray-700">Allowed IP addresses (comma-separated)</label> <input type="text" id="ipWhitelist" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"></div>'),vt=d('<div class="space-y-6"><div><h4 class="text-md font-medium text-gray-800">Password Policy</h4> <div class="mt-2 space-y-2"><label class="flex items-center"><input type="checkbox" class="form-checkbox"> <span class="ml-2 text-sm text-gray-700">Require strong passwords</span></label> <label class="flex items-center"><input type="checkbox" class="form-checkbox"> <span class="ml-2 text-sm text-gray-700">Enable password expiration</span></label> <!></div></div> <div><h4 class="text-md font-medium text-gray-800">Two-Factor Authentication (2FA)</h4> <div class="mt-2"><label class="flex items-center"><input type="checkbox" class="form-checkbox"> <span class="ml-2 text-sm text-gray-700">Enable 2FA for all users</span></label></div></div> <div><h4 class="text-md font-medium text-gray-800">Session Management</h4> <div class="mt-2 space-y-2"><label for="sessionTimeout" class="block text-sm font-medium text-gray-700">Session timeout (minutes)</label> <input type="number" id="sessionTimeout" class="block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50" min="5" max="1440"></div></div> <div><h4 class="text-md font-medium text-gray-800">Access Control</h4> <div class="mt-2 space-y-2"><label class="flex items-center"><input type="checkbox" class="form-checkbox"> <span class="ml-2 text-sm text-gray-700">Enable IP whitelist</span></label> <!></div></div> <div><h4 class="text-md font-medium text-gray-800">SSL/TLS Configuration</h4> <div class="mt-2 space-y-2"><label class="flex items-center"><input type="checkbox" class="form-checkbox"> <span class="ml-2 text-sm text-gray-700">Enforce HTTPS</span></label> <label class="flex items-center"><input type="checkbox" class="form-checkbox"> <span class="ml-2 text-sm text-gray-700">Enable HTTP Strict Transport Security (HSTS)</span></label></div></div> <button class="mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2">Save Security Settings</button></div>'),bt=d('<p class="text-sm text-gray-600">Security settings are not available.</p>'),ft=d('<div class="p-6 space-y-6"><h3 class="text-lg font-medium text-gray-900 mb-4">Security Settings</h3> <!></div>'),yt=d('<div class="space-y-6"><div class="flex justify-between items-center"><h1 class="text-2xl font-bold text-gray-900">System Configuration</h1> <!></div> <div class="border-b border-gray-200"><nav class="-mb-px flex space-x-8" aria-label="Tabs"></nav></div> <div class="bg-white rounded-lg shadow"><!></div></div>');function zt(g,ne){Ue(ne,!1);const le=Je(),M=()=>De(Oe,"$isDemoMode",le),de=()=>De(q,"$darkMode",le),t=J(),G=J(),F=J();let ce=Be(ne,"data",8),H=J("general");const Ae=[{id:"general",label:"General",icon:Qe},{id:"network",label:"Network",icon:Xe},{id:"backup",label:"Backup & Restore",icon:Ze},{id:"security",label:"Security",icon:et}];async function Ee(){if(M())alert("Demo mode: Dark mode cannot be toggled"),q.set(!0);else{const o=!de();q.set(o),await O({darkMode:o})}}async function O(o){if(M())V(t,{...e(t),...o});else try{if(!(await fetch("/api/admin/system/settings",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)})).ok)throw new Error("Failed to update settings")}catch(l){console.error("Error updating settings:",l)}}async function Ie(){if(!M())try{if(!(await fetch("/api/admin/system/security-settings",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e(t).security)})).ok)throw new Error("Failed to update security settings")}catch(o){console.error("Error updating security settings:",o)}}function Ne(){M()?alert(`Version: 0.0.1
Build: 1`):alert(`Version: ${e(G).version}
Build: ${e(G).build}`)}ze(()=>(e(t),e(G),e(F),We(ce())),()=>{(o=>(V(t,o.settings),V(G,o.systemInfo),V(F,o.networkInfo)))(ce())}),He(),Ge();var Y=yt(),K=a(Y),Pe=r(a(K),2);y(Pe,M,o=>{var l=at();i(o,l)}),s(K);var Q=r(K,2),me=a(Q);je(me,5,()=>Ae,Re,(o,l)=>{var v=rt(),x=a(v);Ve(x,()=>e(l).icon,(k,u)=>{u(k,{class:"mr-2",size:16})});var m=r(x);s(v),R(()=>{qe(v,`flex items-center py-4 px-1 border-b-2 font-medium text-sm
            ${(e(H)===e(l).id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300")??""}`),$(m,` ${e(l).label??""}`)}),L("click",v,()=>V(H,e(l).id)),i(o,v)}),s(me),s(Q);var ue=r(Q,2),Ce=a(ue);y(Ce,()=>e(H)==="general",o=>{var l=nt(),v=a(l),x=a(v),m=r(a(x),2);R(()=>{e(t).timezone,Se(()=>{})});var k=a(m);k.value=(k.__value="America/New_York")==null?"":"America/New_York";var u=r(k);u.value=(u.__value="America/Chicago")==null?"":"America/Chicago";var c=r(u);c.value=(c.__value="America/Denver")==null?"":"America/Denver";var E=r(c);E.value=(E.__value="America/Los_Angeles")==null?"":"America/Los_Angeles",s(m),s(x);var U=r(x,2),_=r(a(U),2);R(()=>{e(t).temperatureUnit,Se(()=>{})});var S=a(_);S.value=(S.__value="F")==null?"":"F";var T=r(S);T.value=(T.__value="C")==null?"":"C",s(_),s(U),s(v);var b=r(v,2),h=a(b),D=a(h);w(D),A(2),s(h),s(b);var I=r(b,2),N=r(a(I),2);y(N,M,p=>{var C=ot();i(p,C)});var P=r(N,2);y(P,()=>!M(),p=>{var C=it(),B=a(C);Ke(B,{class:"mr-2",size:16}),A(),s(C),L("click",C,Ne),i(p,C)}),s(I),s(l),R(()=>$e(D,de())),Te(m,()=>e(t).timezone,p=>f(t,e(t).timezone=p)),L("change",m,()=>O({timezone:e(t).timezone})),Te(_,()=>e(t).temperatureUnit,p=>f(t,e(t).temperatureUnit=p)),L("change",_,()=>O({temperatureUnit:e(t).temperatureUnit})),L("change",D,Ee),i(o,l)},o=>{var l=re(),v=oe(l);y(v,()=>e(H)==="network",x=>{var m=ct(),k=r(a(m),2);y(k,()=>e(F),u=>{var c=lt(),E=a(c),U=r(a(E),2),_=a(U);s(U),s(E);var S=r(E,2),T=r(a(S),2),b=a(T);s(T),s(S);var h=r(S,2),D=r(a(h),2),I=a(D);s(D),s(h);var N=r(h,2),P=r(a(N),2),p=a(P);s(P),s(N),s(c),R(()=>{$(_,e(F).internalIp||"N/A"),$(b,e(F).externalIp||"N/A"),$(I,e(F).macAddress||"N/A"),$(p,e(F).mdnsName||"N/A")}),i(u,c)},u=>{var c=dt();i(u,c)}),A(2),s(m),i(x,m)},x=>{var m=re(),k=oe(m);y(k,()=>e(H)==="backup",u=>{var c=mt();i(u,c)},u=>{var c=re(),E=oe(c);y(E,()=>e(H)==="security",U=>{var _=ft(),S=r(a(_),2);y(S,()=>e(t)&&e(t).security,T=>{var b=vt(),h=a(b),D=r(a(h),2),I=a(D),N=a(I);w(N),A(2),s(I);var P=r(I,2),p=a(P);w(p),A(2),s(P);var C=r(P,2);y(C,()=>e(t).security.passwordExpiration,n=>{var z=ut(),j=r(a(z),2);w(j),s(z),ie(j,()=>e(t).security.passwordExpirationDays,ae=>f(t,e(t).security.passwordExpirationDays=ae)),i(n,z)}),s(D),s(h);var B=r(h,2),pe=r(a(B),2),ve=a(pe),be=a(ve);w(be),A(2),s(ve),s(pe),s(B);var X=r(B,2),fe=r(a(X),2),ye=r(a(fe),2);w(ye),s(fe),s(X);var Z=r(X,2),ge=r(a(Z),2),ee=a(ge),xe=a(ee);w(xe),A(2),s(ee);var Me=r(ee,2);y(Me,()=>e(t).security.enableIPWhitelist,n=>{var z=pt(),j=r(a(z),2);w(j),s(z),ie(j,()=>e(t).security.ipWhitelist,ae=>f(t,e(t).security.ipWhitelist=ae)),i(n,z)}),s(ge),s(Z);var te=r(Z,2),_e=r(a(te),2),se=a(_e),he=a(se);w(he),A(2),s(se);var we=r(se,2),ke=a(we);w(ke),A(2),s(we),s(_e),s(te);var Fe=r(te,2);s(b),W(N,()=>e(t).security.requireStrongPasswords,n=>f(t,e(t).security.requireStrongPasswords=n)),W(p,()=>e(t).security.passwordExpiration,n=>f(t,e(t).security.passwordExpiration=n)),W(be,()=>e(t).security.enable2FA,n=>f(t,e(t).security.enable2FA=n)),ie(ye,()=>e(t).security.sessionTimeout,n=>f(t,e(t).security.sessionTimeout=n)),W(xe,()=>e(t).security.enableIPWhitelist,n=>f(t,e(t).security.enableIPWhitelist=n)),W(he,()=>e(t).security.enforceHTTPS,n=>f(t,e(t).security.enforceHTTPS=n)),W(ke,()=>e(t).security.enableHSTS,n=>f(t,e(t).security.enableHSTS=n)),L("click",Fe,Ie),i(T,b)},T=>{var b=bt();i(T,b)}),s(_),i(U,_)},null,!0),i(u,c)},!0),i(x,m)},!0),i(o,l)}),s(ue),s(Y),i(g,Y),Le()}export{zt as component};
